<h1>岩情報詳細ページ</h1>
<% @rocks.images.each do |image|%>
  <%= image_tag image,class: 'gym-images'%>
<% end %>
<% if user_signed_in? && @rocks.user_id == current_user.id%>
  <%= link_to '編集', edit_rock_information_path, method: :get%>
  <%= link_to "削除", rock_information_path(@rocks.id), method: :delete%>
<% end %>
<table class="detail-table">
  <tbody>
    <tr>
      <th class="detail-item">エリア名</th>
      <td class="detail-value"><%= @rocks.name%></td>
    </tr>
  </tbody>
</table>

<table class="detail-table">
  <tbody>
    <tr>
      <th class="detail-item">スタイル</th>
      <td class="detail-value"><%= @rocks.boulder_or_lead.name%></td>
    </tr>
  </tbody>
</table>

<table class="detail-table">
  <tbody>
    <tr>
      <th class="detail-item">地域</th>
      <td class="detail-value"><%= @rocks.region.name%></td>
    </tr>
  </tbody>
</table>

<table class="detail-table">
  <tbody>
    <tr>
      <th class="detail-item">住所</th>
      <td class="detail-value"><%= @rocks.address%></td>
    </tr>
  </tbody>
</table>

<table class="detail-table">
  <tbody>
    <tr>
      <th class="detail-item">岩質</th>
      <td class="detail-value"><%= @rocks.rock_quality.name%></td>
    </tr>
  </tbody>
</table>

<table class="detail-table">
  <tbody>
    <tr>
      <th class="detail-item">シーズン</th>
      <td class="detail-value"><%= @rocks.season1.name%>~<%= @rocks.season2.name %></td>
    </tr>
  </tbody>
</table>

<table class="detail-table">
  <tbody>
    <tr>
      <th class="detail-item">ナイトクライミング</th>
      <td class="detail-value"><%= @rocks.night.name%></td>
    </tr>
  </tbody>
</table>

<table class="detail-table">
  <tbody>
    <tr>
      <th class="detail-item">課題のグレード感</th>
      <td class="detail-value"><%= @rocks.grade_sence.name%></td>
    </tr>
  </tbody>
</table>

<table class="detail-table">
  <tbody>
    <tr>
      <th class="detail-item">人の少ない日</th>
      <td class="detail-value"><%= @rocks.people_day.name%></td>
    </tr>
  </tbody>
</table>

<table class="detail-table">
  <tbody>
    <tr>
      <th class="detail-item">人の少ない時間帯</th>
      <td class="detail-value"><%= @rocks.people_time1.name%>~<%= @rocks.people_time2.name %></td>
    </tr>
  </tbody>
</table>

<table class="detail-table">
  <tbody>
    <tr>
      <th class="detail-item">岩場の雰囲気</th>
      <td class="detail-value"><%= @rocks.people_vibe.name%></td>
    </tr>
  </tbody>
</table>

<table class="detail-table">
  <tbody>
    <tr>
      <th class="detail-item">その他</th>
      <td class="detail-value"><%= @rocks.other%></td>
    </tr>
  </tbody>
</table>

<div class = "rock-tasks">
<h1><%= @rocks.name%>課題情報</h1>
<%= link_to '課題の投稿はこちら',new_rock_information_rock_task_path(@rocks.id) %>
<%# 課題一覧 %>
<div class="contents row">
  <ul class = "gym-lists">
    <% @tasks.each do |task| %>
      <li class= "list">
        <%= link_to rock_information_rock_task_path(task.id) do%>
          <div class = "item-name">
            <%= task.name%>
            <%= task.rock_task_grade.name%>
          </div>
        <% end %>
      </li>
    <% end %>
  </ul>
</div>
</div>
<%# 課題一覧 %>

<%# 新規投稿 %>
<% if user_signed_in? %>
  <%= form_with(model: @task, url:rock_information_path, local: true) do |f| %>
    <div class="field_with_errors">
      <%= render 'shared/error_messages', model: f.object %>
    </div>
    <span>課題の名前</span>
    <span class="indispensable">必須</span><br>
    <%= f.text_field :name %><br>

    <span>課題のグレード</span>
    <span class="indispensable">必須</span><br>
    <%= f.collection_select(:rock_task_grade_id, RockTaskGrade.all, :id, :name, {}, {class:"select-box", id:"grade-category"}) %><br>

    <span>その他(注意することなどありましたら記述お願いします)</span><br>
    <%= f.text_field :other ,placeholder: "例)下地が安定していないので着地に注意" %><br>
    <%= f.submit "投稿する"%>
    <%=link_to 'もどる', root_path, class:"back-btn" %>
  <% end %>
<% end %>
